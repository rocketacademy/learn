{% extends './base.html' %}
{% block coupon_content %}
<div class="d-flex flex-row justify-content-between p-4">
    <h4>Overview</h4>
    <a type="link" href="new/" role="button" class="btn btn-outline-primary btn-sm px-4">
        + Create coupon
    </a>
</div>
<div class="px-4">
    {% if coupons.exists %}
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">Start date</th>
                <th scope="col">End date</th>
                <th scope="col">Description</th>
                <th scope="col">Effects</th>
                <th scope="col">Code</th>
            </tr>
        </thead>
        <tbody>
            {% for coupon in coupons %}
            <tr class="clickable-row" data-url="{% url 'coupon_detail' coupon_id=coupon.id %}" role="button"> 
                <td>{{ coupon.start_date|date:"d M, Y" }}</td>
                <td>{{ coupon.end_date|date:"d M, Y" }}</td>
                <td>{{ coupon.description|linebreaks }}</td>
                <td>{{ coupon.get_effects_display }}</td>
                <td>{{ coupon.code }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <div>There aren't any active coupons at the moment</div>
    {% endif %}
</div>
{% endblock %}